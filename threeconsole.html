d<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coda Oedipus</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #ffffff;
        }

        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .video-background video {
            min-width: 100%;
            min-height: 100%;
            opacity: 1;
            object-fit: cover;
        }

        .consoles-container {
            position: relative;
            height: 100vh;
        }

        .main-consoles {
            display: flex;
            height: 100%;
            gap: 2px;
        }

        .console {
            flex: 1;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            background-color: rgba(0, 0, 0, 0);
            overflow-y: auto;
            position: relative;
            border: 1px solid #000000;
            z-index: 1;
        }

        .floating-console {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0);
            border: 0px solid #ffffff;
            z-index: 1;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .typing-text {
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 2px;
            background-color: #000000;
            animation: blink 1s step-end infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            from, to { background-color: transparent }
            50% { background-color: #ffffff; }
        }

        ::-webkit-scrollbar {
            width: 0px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0);
        }0

        ::-webkit-scrollbar-thumb {
            background: #ffffff;
        }
    </style>
</head>
<body>
    <div class="video-background">
        <video autoplay muted loop>
            <source src="exquisiteCorpse1.compressed.mp4" type="video/mp4">
        </video>
    </div>

    <div class="consoles-container">
        <div class="main-consoles">
            <div class="console">
                <div id="box1" class="typing-text"></div>
                <span class="cursor"></span>
            </div>
            <div class="console">
                <div id="box2" class="typing-text"></div>
                <span class="cursor"></span>
            </div>
        </div>
        
        <div class="floating-console">
            <div id="box3" class="typing-text"></div>
            <span class="cursor"></span>
        </div>
    </div>

    <script>
        const textSources = {
            box1: [
                Thematic Influence Class\n",
                "class ThematicInfluence {\n",
                "  constructor(type, intensity, effect) {\n",
                "    this.type = type;\n",
                "    this.intensity = intensity;\n",
                "    this.effect = effect;\n",
                "  }\n",
                "}\n\n",
                "// Story Event Class\n",
                "class StoryEvent {\n",
                "  constructor(action, actors, consequence, influence) {\n",
                "    this.action = action;\n",
                "    this.actors = actors;\n",
                "    this.consequence = consequence;\n",
                "    this.influence = influence;\n",
                "    this.children = [];\n",
                "  }\n",
                "}\n\n",
                "// Core Forces Definition\n",
                "const Forces = {\n",
                "  FATE: new ThematicInfluence('FATE', 0.9, 'FORCES_ACTION'),\n",
                "  HUBRIS: new ThematicInfluence('HUBRIS', 0.7, 'BLINDS_LOGIC'),\n",
                "  GRIEF: new ThematicInfluence('GRIEF', 0.95, 'SELF_DESTRUCTION'),\n",
                "  DUTY: new ThematicInfluence('DUTY', 0.6, 'MAINTAINS_ORDER')\n",
                "};\n\n",
                "// Create Oedipus Journey\n",
                "function createOedipusJourney() {\n",
                "  const root = new StoryEvent(\n",
                "    'PROPHECY',\n",
                "    ['LAIUS', 'JOCASTA'],\n",
                "    'ABANDONMENT',\n",
                "    Forces.FATE\n",
                "  );\n\n",
                "  const adoption = new StoryEvent(\n",
                "    'RESCUE',\n",
                "    ['SHEPHERD', 'POLYBUS'],\n",
                  "    'PATRICIDE',\n",
                "    Forces.HUBRIS\n",
                "  );\n",
                "  adoption.children.push(flight);\n\n",
                "  const sphinx = new StoryEvent(\n",
                "    'RIDDLE_SOLVED',\n",
                "    ['OEDIPUS', 'SPHINX'],\n",
                "    'KINGSHIP',\n",
                "    Forces.HUBRIS\n",
                "  );\n",
                "  flight.children.push(sphinx);\n\n",
                "  const marriage = processFatedAction(\n",
                "    'MARRIAGE',\n",
                "    ['OEDIPUS', 'JOCASTA'],\n",
                "    'INCEST',\n",
                "    Forces.FATE\n",
                "  );\n",
                "  sphinx.children.push(marriage);\n\n",
                "  const plagueInvestigation = new StoryEvent(\n",
                "    'INVESTIGATION',\n",
                "    ['OEDIPUS', 'TIRESIAS'],\n",
                "    'REVELATION',\n",
                "    Forces.FATE\n",
                "  );\n",
                "  marriage.children.push(plagueInvestigation);\n\n",
                "  const truthRealization = processGrief(\n",
                "    'TRUTH_REALIZED',\n",
                "    'OEDIPUS',\n",
                "    0.99\n",
                "  );\n",
                "  plagueInvestigation.children.push(truthRealization);\n\n",
                "  const selfBlinding = new StoryEvent(\n",
                "    'SELF_BLINDING',\n",
                "    ['OEDIPUS'],\n",
                "    'EXILE',\n",
                "    Forces.GRIEF\n",
                "  );\n",
                "  truthRealization.children.push(selfBlinding);\n\n",
                "  const transferPower = processDutyTransfer(\n",
                "    ['CREON'],\n",
                "    'THEBES_GOVERNANCE'\n",
                "  );\n",
                "  selfBlinding.children.push(transferPower);\n\n",
                "  return root;\n",
                "}\n\n",
                "// Execute the algorithm\n",
                "const tragicHeroAlgorithm = createOedipusJourney();\n",
                "console.log(tragicHeroAlgorithm);”       "    'ADOPTION',\n",
                "    Forces.FATE\n",
                "  );\n",
                "  root.children.push(adoption);\n\n",
                "  const flight = processHubrisAction(\n",
                "    'FLIGHT',\n",
                "    'OEDIPUS',\n",

            ],
            box2: [
                 "// Θεματικὴ Ἐπίπτωσις\n",
  "class Θεματικὴ_Ἐπίπτωσις {\n",
  "  constructor(εἶδος, σφοδρότης, ἀποτέλεσμα) {\n",
  "    this.εἶδος = εἶδος;\n",
  "    this.σφοδρότης = σφοδρότης;\n",
  "    this.ἀποτέλεσμα = ἀποτέλεσμα;\n",
  "  }\n",
  "}\n",
  "\n",
  "// Πραγματοποίησις Μύθου\n",
  "class Πραγματοποίησις_Μύθου {\n",
  "  constructor(πρᾶξις, ὑποκριταί, συμβάν, θεματική) {\n",
  "    this.πρᾶξις = πρᾶξις;\n",
  "    this.ὑποκριταί = ὑποκριταί;\n",
  "    this.συμβάν = συμβάν;\n",
  "    this.θεματική = θεματική;\n",
  "    this.παῖδες = [];\n",
  "  }\n",
  "}\n",
  "\n",
  "// Δυνάμεις\n",
  "const Δυνάμεις = {\n",
  "  Μοῖρα: new Θεματικὴ_Ἐπίπτωσις('Μοῖρα', 0.9, 'Ἀνάγκη_Πράξεως'),\n",
  "  Ὕβρις: new Θεματικὴ_Ἐπίπτωσις('Ὕβρις', 0.7, 'Τυφλωσὶς_Λογισμοῦ'),\n",
  "  Πένθος: new Θεματικὴ_Ἐπίπτωσις('Πένθος', 0.95, 'Αὐτοφθορά'),\n",
  "  Χρέος: new Θεματικὴ_Ἐπίπτωσις('Χρέος', 0.6, 'Τάξεως_Διατήρησις')\n",
  "};\n",
  "\n",
  "// Δημιουργία Ὀιδίποδος Ὁδοῦ\n",
  "function δημιουργία_Ὀιδίποδος_Ὁδοῦ() {\n",
  "  const ῥίζα = new Πραγματοποίησις_Μύθου(\n",
  "    'Μαντεῖον',\n",
  "    ['Λάϊος', 'Ἰοκάστη'],\n",
  "    'Ἐκθέτησις',\n",
  "    Δυνάμεις.Μοῖρα\n",
  "  );\n",
  "\n",
  "  const υἱοθεσία = ἐπεξεργασία_ὕβρεως_πράξεως(\n",
  "    'Φυγή',\n",
  "    'Οἰδίπους',\n",
  "    'Πατροκτονία',\n",
  "    Δυνάμεις.Ὕβρις\n",
  "  );\n",
  "  ῥίζα.παῖδες.push(υἱοθεσία);\n",
  "\n",
  "  const σφίγξ = new Πραγματοποίησις_Μύθου(\n",
  "    'Αἴνιγμα_Ἐλυθη',\n",
  "    ['Οἰδίπους', 'Σφίγξ'],\n",
  "    'Βασιλεία',\n",
  "    Δυνάμεις.Ὕβρις\n",
  "  );\n",
  "  υἱοθεσία.παῖδες.push(σφίγξ);\n",
  "\n",
  "  const γάμος = ἐπεξεργασία_μοιραίας_πράξεως(\n",
  "    'Γάμος',\n",
  "    ['Οἰδίπους', 'Ἰοκάστη'],\n",
  "    'Μιαιφονία',\n",
  "    Δυνάμεις.Μοῖρα\n",
  "  );\n",
  "  σφίγξ.παῖδες.push(γάμος);\n",
  "\n",
  "  const λοιμικὴ_ἔρευνα = new Πραγματοποίησις_Μύθου(\n",
  "    'Ἐξέτασις',\n",
  "    ['Οἰδίπους', 'Τειρεσίας'],\n",
  "    'Ἀποκάλυψις',\n",
  "    Δυνάμεις.Μοῖρα\n",
  "  );\n",
  "  γάμος.παῖδες.push(λοιμικὴ_ἔρευνα);\n",
  "\n",
  "  const ἀλήθεια_συνειδητοποίησις = ἐπεξεργασία_πένθους(\n",
  "    'Ἀλήθεια_Συνειδητοποιημένη',\n",
  "    'Οἰδίπους',\n",
  "    0.99\n",
  "  );\n",
  "  λοιμικὴ_ἔρευνα.παῖδες.push(ἀλήθεια_συνειδητοποίησις);\n",
  "\n",
  "  const αὐτοτυφλωσις = new Πραγματοποίησις_Μύθου(\n",
  "    'Αὐτοτυφλωσις',\n",
  "    ['Οἰδίπους'],\n",
  "    'Ἐξορισμός',\n",
  "    Δυνάμεις.Πένθος\n",
  "  );\n",
  "  ἀλήθεια_συνειδητοποίησις.παῖδες.push(αὐτοτυφλωσις);\n",
  "\n",
  "  const μεταβίβασις_ἐξουσίας = ἐπεξεργασία_χρέους_μεταβίβασις(\n",
  "    ['Κρέων'],\n",
  "    'Θηβῶν_Διοίκησις'\n",
  "  );\n",
  "  αὐτοτυφλωσις.παῖδες.push(μεταβίβασις_ἐξουσίας);\n",
  "\n",
  "  return ῥίζα;\n",
  "}\n",
  "\n",
  "// Ἐκτέλεσις ἀλγορίθμου\n",
  "const τραγικὸς_ἀλγόριθμος = δημιουργία_Ὀιδίποδος_Ὁδοῦ();\n",
  "console.log(τραγικὸς_ἀλγόριθμος);\n"

            ],
            box3: [
                  "// 主题影响类定义\n",
                "class 主题影响 {\n",
                "  constructor(类型, 强度, 效果) {\n",
                "    this.类型 = 类型;\n",
                "    this.强度 = 强度;\n",
                "    this.效果 = 效果;\n",
                "  }\n",
                "}\n\n",
                "// 故事事件类定义\n",
                "class 故事事件 {\n",
                "  constructor(行动, 角色, 后果, 主题) {\n",
                "    this.行动 = 行动;\n",
                "    this.角色 = 角色;\n",
                "    this.后果 = 后果;\n",
                "    this.主题 = 主题;\n",
                "    this.子节点 = [];\n",
                "  }\n",
                "}\n\n",
                "// 核心力量定义\n",
                "const 核心力量 = {\n",
                "  命运: new 主题影响('命运', 0.9, '强制行动'),\n",
                "  傲慢: new 主题影响('傲慢', 0.7, '理性盲视'),\n",
                "  悲伤: new 主题影响('悲伤', 0.95, '自我毁灭'),\n",
                "  责任: new 主题影响('责任', 0.6, '秩序维持')\n",
                "};\n\n",
                "// 命运影响函数\n",
                "function 命运影响(节点) {\n",
                "  return (预言) => {\n",
                "    节点.后果 = 递归解析(预言);\n",
                "    return 节点;\n",
                "  };\n",
                "}\n\n",
                "// 傲慢链条函数\n",
                "function 傲慢链条(角色) {\n",
                "  return (行动) => {\n",
                "    return (后果) => {\n",
                "      return {\n",
                "        触发: 核心力量.傲慢,\n",
                "        结果: 递归确定结果(行动, 后果)\n",
                "      };\n",
                "    };\n",
                "  };\n",
                "}\n\n",
                "// 创建俄狄浦斯之路\n",
                "function 创建俄狄浦斯之路() {\n",
                "  const 根节点 = new 故事事件(\n",
                "    '神谕',\n",
                "    ['拉伊俄斯', '伊俄卡斯忒'],\n",
                "    '遗弃',\n",
                "    核心力量.命运\n",
                "  );\n\n",
                "  const 收养事件 = 处理傲慢行动(\n",
                "    '逃亡',\n",
                "    '俄狄浦斯',\n",
                "    '弑父',\n",
                "    核心力量.傲慢\n",
                "  );\n",
                "  根节点.子节点.push(收养事件);\n\n",
                "  const 斯芬克斯事件 = new 故事事件(\n",
                "    '解谜',\n",
                "    ['俄狄浦斯', '斯芬克斯'],\n",
                "    '王权',\n",
                "    核心力量.傲慢\n",
                "  );\n",
                "  收养事件.子节点.push(斯芬克斯事件);\n\n",
                "  const 婚姻事件 = 处理命运行动(\n",
                "    '婚姻',\n",
                "    ['俄狄浦斯', '伊俄卡斯忒'],\n",
                "    '乱伦',\n",
                "    核心力量.命运\n",
                "  );\n",
                "  斯芬克斯事件.子节点.push(婚姻事件);\n\n",
                "  const 瘟疫调查 = new 故事事件(\n",
                "    '调查',\n",
                "    ['俄狄浦斯', '提瑞西阿斯'],\n",
                "    '真相揭露',\n",
                "    核心力量.命运\n",
                "  );\n",
                "  婚姻事件.子节点.push(瘟疫调查);\n\n",
                "  const 真相认知 = 处理悲伤(\n",
                "    '真相觉醒',\n",
                "    '俄狄浦斯',\n",
                "    0.99\n",
                "  );\n",
                "  瘟疫调查.子节点.push(真相认知);\n\n",
                "  const 自盲事件 = new 故事事件(\n",
                "    '自我致盲',\n",
                "    ['俄狄浦斯'],\n",
                "    '流放',\n",
                "    核心力量.悲伤\n",
                "  );\n",
                "  真相认知.子节点.push(自盲事件);\n\n",
                "  const 权力转移 = 处理责任传承(\n",
                "    ['克瑞翁'],\n",
                "    '底比斯统治'\n",
                "  );\n",
                "  自盲事件.子节点.push(权力转移);\n\n",
                "  return 根节点;\n",
                "}\n\n",
                "// 算法执行\n",
                "const 悲剧算法 = 创建俄狄浦斯之路();\n",
                "console.log(悲剧算法);"
            ]
        };

        function createTyper(elementId, speed = 50, loopDelay = 2000) {
            let index = 0;
            const element = document.getElementById(elementId);
            const lines = textSources[elementId];
            
            function typeLine() {
                if (index < lines.length) {
                    const line = lines[index];
                    let charIndex = 0;
                    
                    function typeChar() {
                        if (charIndex < line.length) {
                            element.innerHTML += line.charAt(charIndex);
                            charIndex++;
                            setTimeout(typeChar, speed);
                        } else {
                            element.innerHTML += '\n';
                            index++;
                            setTimeout(typeLine, speed * 2);
                        }
                        element.parentElement.scrollTop = element.parentElement.scrollHeight;
                    }
                    
                    typeChar();
                } else {
                    setTimeout(() => {
                        element.innerHTML = '';
                        index = 0;
                        typeLine();
                    }, loopDelay);
                }
            }
            
            typeLine();
        }

        window.onload = () => {
            createTyper('box1', 30, 1500);
            createTyper('box2', 35, 1800);
            createTyper('box3', 25, 2500);
        };
    </script>
</body>
</html>
