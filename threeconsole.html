d<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coda Oedipus</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #ffffff;
        }

        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .video-background video {
            min-width: 100%;
            min-height: 100%;
            opacity: 1;
            object-fit: cover;
        }

        .consoles-container {
            position: relative;
            height: 100vh;
        }

        .main-consoles {
            display: flex;
            height: 100%;
            gap: 2px;
        }

        .console {
            flex: 1;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            background-color: rgba(0, 0, 0, 0);
            overflow-y: auto;
            position: relative;
            border: 1px solid #000000;
            z-index: 1;
        }

        .floating-console {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0);
            border: 0px solid #ffffff;
            z-index: 1;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .typing-text {
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 2px;
            background-color: #000000;
            animation: blink 1s step-end infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            from, to { background-color: transparent }
            50% { background-color: #ffffff; }
        }

        ::-webkit-scrollbar {
            width: 0px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0);
        }0

        ::-webkit-scrollbar-thumb {
            background: #ffffff;
        }
    </style>
</head>
<body>
    <div class="video-background">
        <video autoplay muted loop>
            <source src="exquisiteCorpse1.compressed.mp4" type="video/mp4">
        </video>
    </div>

    <div class="consoles-container">
        <div class="main-consoles">
            <div class="console">
                <div id="box1" class="typing-text"></div>
                <span class="cursor"></span>
            </div>
            <div class="console">
                <div id="box2" class="typing-text"></div>
                <span class="cursor"></span>
            </div>
        </div>
        
        <div class="floating-console">
            <div id="box3" class="typing-text"></div>
            <span class="cursor"></span>
        </div>
    </div>

    <script>
        const textSources = {
            box1: [
                "MAIN SYSTEM STATUS\n",
                "CPU Load: 38%\n",
                "Memory Usage: 1.4GB\n",
                "Network Throughput: 45Mbps\n",
                "Active Connections: 128\n",
                "Storage Available: 450GB\n",
                "System Temperature: 44°C\n"
            ],
            box2: [
                "SECURITY MONITOR\n",
                "Firewall: ACTIVE\n",
                "Intrusion Detection: ON\n",
                "Last Scan: 2h 15m ago\n",
                "Encryption Level: AES-256\n",
                "VPN Status: CONNECTED\n",
                "Threat Level: LOW\n"
            ],
            box3: [
                "class 主题影响 {\n",
  "constructor(类型, 强度, 效果) {\n",
    "this.类型 = 类型;\n",
    "this.强度 = 强度;\n",
    "this.效果 = 效果;\n",
 " } }\n",
"class 故事事件 {\n",
  "constructor(行动, 角色, 后果, 主题) {\n",
    "this.行动 = 行动;\n",
   " this.角色 = 角色;\n",
   " this.后果 = 后果;\n",
   " this.主题 = 主题;\n",
 "   this.子节点 = [];\n",
 " } }"
"const 核心力量 = {"
 " 命运: new 主题影响('命运', 0.9, '强制行动'),\n",
 " 傲慢: new 主题影响('傲慢', 0.7, '理性盲视'),\n",
  "悲伤: new 主题影响('悲伤', 0.95, '自我毁灭'),\n",
 " 责任: new 主题影响('责任', 0.6, '秩序维持')\n",
"};\n",
"function 命运影响(节点) {\n",
 " return (预言) => {"
  "  节点.后果 = 递归解析(预言);\n",
   " return 节点;  };}\n",
"function 傲慢链条(角色) {\n",
 " return (行动) => {\n",
   " return (后果) => {\n",
      "return {\n",
     "   触发: 核心力量.傲慢,\n",
     "   结果: 递归确定结果(行动, 后果)\n",
    "  }; };} }\n",
"function 悲伤反应(强度) {\n",
 " return (角色) => {"\n",
   " return {\n",
  "    行动: '自我致盲',\n",
    "  后果: 递归计算影响(强度), 觉醒: 递归触发认知(角色)    }; };}\n",
"function 责任传承(等级) {\n",
"  return (继承者) => {\n",
   " return {\n",
    "  转移: 递归建立秩序(等级, 继承者),\n",
    "  平衡: 核心力量.责任.强度    }; };}\n",
"function 递归解析(预言) {\n",
"  return (当前行动) => {\n",
"    return 预言.效果 === 当前行动.后果 ?\n",
    "  核心力量.命运 : 递归解析(预言)(当前行动.父节点);  };}\n",
"function 创建俄狄浦斯之路() {\n",
 " const 根节点 = new 故事事件(\n",
   " '神谕', ['拉伊俄斯', '伊俄卡斯忒'], '遗弃',  核心力量.命运 );\n",
" const 收养事件 = 处理傲慢行动(\n",
"    '逃亡', '俄狄浦斯',  '弑父', 核心力量.傲慢 );\n",
 " 根节点.子节点.push(收养事件);"\n","
" const 斯芬克斯事件 = new 故事事件('解谜',\n",
 "   ['俄狄浦斯', '斯芬克斯'],\n",
   " 收养事件.子节点.push(斯芬克斯事件);\n",
" const 婚姻事件 = 处理命运行动(  '婚姻',\n",
 "   ['俄狄浦斯', '伊俄卡斯忒'],\n",
 "   '乱伦', 核心力量.命运 );\n",
  "斯芬克斯事件.子节点.push(婚姻事件);\n",
 "const 瘟疫调查 = new 故事事件(\n",
   " '调查',\n",
   " ['俄狄浦斯', '提瑞西阿斯'],\n",
   " '真相揭露',  核心力量.命运 );\n",
"  婚姻事件.子节点.push(瘟疫调查);\n",
"const 真相认知 = 处理悲伤(\n",
   " '真相觉醒',\n",
   " '俄狄浦斯',0.99 );\n",
  "瘟疫调查.子节点.push(真相认知);\n",
"const 自盲事件 = new 故事事件(\n",
   " '自我致盲',\n",
   " ['俄狄浦斯'],'流放', 核心力量.悲伤\n",
 " );\n",
  "真相认知.子节点.push(自盲事件);\n",
"const 权力转移 = 处理责任传承(\n",
    ['克瑞翁'], '底比斯统治'\n",
 " );\n",
  "自盲事件.子节点.push(权力转移);\n",
 " return 根节点;\n",
"}// 算法执行\n",
"const 悲剧算法 = 创建俄狄浦斯之路();\n",
"console.log(悲剧算法);\n"

            ]
        };

        function createTyper(elementId, speed = 50, loopDelay = 2000) {
            let index = 0;
            const element = document.getElementById(elementId);
            const lines = textSources[elementId];
            
            function typeLine() {
                if (index < lines.length) {
                    const line = lines[index];
                    let charIndex = 0;
                    
                    function typeChar() {
                        if (charIndex < line.length) {
                            element.innerHTML += line.charAt(charIndex);
                            charIndex++;
                            setTimeout(typeChar, speed);
                        } else {
                            element.innerHTML += '\n';
                            index++;
                            setTimeout(typeLine, speed * 2);
                        }
                        element.parentElement.scrollTop = element.parentElement.scrollHeight;
                    }
                    
                    typeChar();
                } else {
                    setTimeout(() => {
                        element.innerHTML = '';
                        index = 0;
                        typeLine();
                    }, loopDelay);
                }
            }
            
            typeLine();
        }

        window.onload = () => {
            createTyper('box1', 30, 1500);
            createTyper('box2', 35, 1800);
            createTyper('box3', 25, 2500);
        };
    </script>
</body>
</html>
